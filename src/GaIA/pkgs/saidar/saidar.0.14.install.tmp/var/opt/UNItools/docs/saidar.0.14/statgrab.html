Content-type: text/html

<HTML><HEAD><TITLE>Manpage of statgrab</TITLE>
</HEAD><BODY>
<H1>statgrab</H1>
Section: C Library Functions (3)<BR>Updated: $Date:&nbsp;2005/04/25&nbsp;11:25:45&nbsp;$<BR><A HREF="#index">Index</A>
<A HREF="../index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

statgrab - get system statistics
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<PRE>
#include &lt;<A HREF="file:/usr/include/statgrab.h">statgrab.h</A>&gt;
</PRE>

<P>
<P>

int <I>sg_init</I>(void);
<P>

int <I>sg_drop_privileges</I>(void);
<P>

sg_error <I>sg_get_error</I>(void);
<P>

const char *<I>sg_get_error_arg</I>(void);
<P>

int<I>sg_get_error_errno</I>(void);
<P>

const char *<I>sg_str_error</I>(sg_error <I>code</I>);
<P>

sg_cpu_stats *<I>sg_get_cpu_stats</I>(void);
<P>

sg_cpu_stats *<I>sg_get_cpu_stats_diff</I>(void);
<P>

sg_cpu_percents *<I>sg_get_cpu_percents</I>(void);
<P>

sg_disk_io_stats *<I>sg_get_disk_io_stats</I>(int *<I>entries</I>);
<P>

sg_disk_io_stats *<I>sg_get_disk_io_stats_diff</I>(int *<I>entries</I>);
<P>

sg_fs_stats *<I>sg_get_fs_stats</I>(void);
<P>

sg_host_info *<I>sg_get_host_info</I>(void);
<P>

sg_load_stats *<I>sg_get_load_stats</I>(void);
<P>

sg_mem_stats *<I>sg_get_mem_stats</I>(void);
<P>

sg_swap_stats *<I>sg_get_swap_stats</I>(void);
<P>

sg_network_io_stats *<I>sg_get_network_io_stats</I>(int *<I>entries</I>);
<P>

sg_network_io_stats *<I>sg_get_network_io_stats_diff</I>(int *<I>entries</I>);
<P>

sg_network_iface_stats *<I>sg_get_network_iface_stats</I>(int *<I>entries</I>);
<P>

sg_page_stats *<I>sg_get_page_stats</I>(void);
<P>

sg_page_stats *<I>sg_get_page_stats_diff</I>(void);
<P>

sg_process_count *<I>sg_get_process_stats</I>(void);
<P>

sg_user_stats *<I>sg_get_user_stats</I>(void);
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

The statgrab library provides a cross-platform interface to getting
system statistics. Each of the function calls returns a structure
containing statistics. See the manual page for each individual
function for more details on usage.
<P>

sg_init must be the first
function you call before you start to use libstatgrab; it performs all
the one-time initialisation operations that need setuid/setgid
privileges. For instance, on *BSD it opens a descriptor to be able to
read kernel structures later on, and on Solaris it reads the device
mappings that in some cases are only accessible by root (machines with
a /dev/osa). Once this has run, the other libstatgrab functions no longer 
need elevated privileges. It is therefore a good idea to call
sg_drop_privileges, which discards
setuid and setgid privileges, immediately after you call
sg_init, unless your application has
another reason for needing setuid or setgid privileges.
<P>

sg_init and
sg_drop_privileges return 0 on success, and
non-zero on failure.
<P>

There are three functions relating to error reporting in libstatgrab.
The first, sg_get_error returns an sg_error code
which relates to the last error generated by libstatgrab. This can be
converted to a string by calling sg_str_error
giving the sg_error code as an argument. An optional
argument may be set when the error was generated. This can be
accessed by calling sg_get_error_arg;
NULL will be returned if no argument has
been set. Some errors will also record the value of the system
errno variable when the error occurred; this can be retrieved by
calling sg_get_error_errno, which will
return 0 if no valid errno has been recorded.
<P>

It is the intended practice that whenever a libstatgrab function is
called and subsequently fails that an appropriate error will be set.
<P>

The library was originally written to support the i-scream
central monitoring system, but has since become a standalone
package. It has been ported to work on Linux, NetBSD, FreeBSD,
OpenBSD, DragonFly BSD, Solaris, HP-UX and Cygwin.
<A NAME="lbAE">&nbsp;</A>
<H2>SEE&nbsp;ALSO</H2>

<B><A HREF="../man3/sg_get_cpu_percents.3.html">sg_get_cpu_percents</A></B>(3)
<B><A HREF="../man3/sg_get_disk_io_stats.3.html">sg_get_disk_io_stats</A></B>(3)
<B><A HREF="../man3/sg_get_fs_stats.3.html">sg_get_fs_stats</A></B>(3)
<B><A HREF="../man3/sg_get_host_info.3.html">sg_get_host_info</A></B>(3)
<B><A HREF="../man3/sg_get_load_stats.3.html">sg_get_load_stats</A></B>(3)
<B><A HREF="../man3/sg_get_mem_stats.3.html">sg_get_mem_stats</A></B>(3)
<B><A HREF="../man3/sg_get_network_io_stats.3.html">sg_get_network_io_stats</A></B>(3)
<B><A HREF="../man3/sg_get_network_iface_stats.3.html">sg_get_network_iface_stats</A></B>(3)
<B><A HREF="../man3/sg_get_page_stats.3.html">sg_get_page_stats</A></B>(3)
<B><A HREF="../man3/sg_get_process_stats.3.html">sg_get_process_stats</A></B>(3)
<B><A HREF="../man3/sg_get_user_stats.3.html">sg_get_user_stats</A></B>(3)
<A NAME="lbAF">&nbsp;</A>
<H2>WEBSITE</H2>

<A HREF="http://www.i-scream.org/libstatgrab/">http://www.i-scream.org/libstatgrab/</A>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">SEE&nbsp;ALSO</A><DD>
<DT><A HREF="#lbAF">WEBSITE</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://localhost/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 15:24:03 GMT, March 26, 2014
</BODY>
</HTML>
