head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2005.11.08.12.38.58;	author root;	state Exp;
branches;
next	1.3;

1.3
date	2005.11.08.11.18.12;	author root;	state Exp;
branches;
next	1.2;

1.2
date	2003.12.21.00.58.45;	author root;	state Exp;
branches;
next	1.1;

1.1
date	2003.10.24.12.59.21;	author root;	state Exp;
branches;
next	;


desc
@@


1.4
log
@*** empty log message ***
@
text
@#
# $Header: /lan/ssi/projects/UNItools/src/Linux/2.4.21-20cpsmp/pkgs/realpath/realpath-1.0/RCS/Makefile,v 1.3 2005/11/08 11:18:12 root Exp $
#
# Makefile for realpath
#

SRCROOT	= /lan/ssi/projects/UNItools/Linux/src

PROG	= realpath
SRC	= $(PROG).c
PROGMAN	= $(PROG).1
PDF	= $(PROG).pdf
TXT	= $(PROG).txt

PREFIX	= /var/opt/UNItools
BINDIR	= $(PREFIX)/bin
MANDIR	= $(PREFIX)/share/man/man1

INSTALL	= /usr/local/bin/install-sh
SRCTOMAN= /usr/local/bin/srctoman -c

install: $(PROG)
	for DIR in $(BINDIR) $(MANDIR);			\
	do						\
		test -d $$DIR || mkdir -p $$DIR;	\
	done
	$(SRCTOMAN) -c $(SRC) > $(PROGMAN)
	$(INSTALL) -c -m 0555 -g wheel -o root $(PROG)		$(BINDIR)
	$(INSTALL) -c -m 0444 -g wheel -o root $(PROGMAN)	$(MANDIR)
	$(MAKE) clean

$(PROG): $(SRC)
	$(CC) -static -O $(SRC) -o $(PROG)
	strip $(PROG)


clean:
	/bin/rm -fr *.bak $(PROG) $(PROGMAN)


# .SILENT:
.IGNORE:
.DEFAULT:
	co $<
@


1.3
log
@*** empty log message ***
@
text
@d2 1
a2 1
# $Header: /lan/ssi/projects/UNItools/src/Linux/2.4.21-20cpsmp/pkgs/realpath/realpath-1.0/RCS/Makefile,v 1.2 2003/12/21 00:58:45 root Exp $
a17 1
DOCDIR	= $(PREFIX)/docs/
d23 1
a23 1
	for DIR in $(BINDIR) $(MANDIR) $(DOCDIR);	\
d25 1
a25 1
		test -d $$DIR || mkdir $$DIR;		\
a27 2
	$(SRCTOMAN) $(SRC) | groff -man | ps2pdf - > $(PDF)
	$(SRCTOMAN) $(SRC) | groff -man -Tlatin1 | col -b > $(TXT)
a29 2
	$(INSTALL) -c -m 0444 -g wheel -o root $(TXT)       	$(DOCDIR)
	$(INSTALL) -c -m 0444 -g wheel -o root $(PDF)		$(DOCDIR)
@


1.2
log
@*** empty log message ***
@
text
@d2 1
a2 1
# $Header: /lan/ssi/projects/UNItools/Linux/src/realpath/RCS/Makefile,v 1.1 2003/10/24 12:59:21 root Exp $
d18 1
a18 2
DOCDIR	= $(PREFIX)/doc/

d24 4
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
# $Header: /var/opt/UNItools/src/realpath/RCS/Makefile,v 1.2 2003/02/04 11:53:31 uninth Exp $
d21 2
a22 2
INSTALL	= $(SRCROOT)/install-sh
SRCTOMAN= $(SRCROOT)/srctoman -c
@
