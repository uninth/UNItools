Content-type: text/html

<HTML><HEAD><TITLE>Manpage of TCPPROF</TITLE>
</HEAD><BODY>
<H1>TCPPROF</H1>
Section: User Commands  (1)<BR><A HREF="#index">Index</A>
<A HREF="../index.html">Return to Main Contents</A><HR>
<BR>BSD mandoc<BR>
<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>



<B>tcpprof</B>

 - report profile of network traffic

<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B></B>


[-<B>?hdnpR</B>

]

[-<B>f </B><I>filter expr</I>



]

[-<B>i </B><I>interface</I>



]

[-<B>P </B><I>port</I>



]

[-<B>r </B><I>filename</I>



]

[-<B>s </B><I>seconds</I>



]

[-<B>S </B><I>letters</I>



]

[-<B>t </B><I>lines</I>



]

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B></B>


reports a profile of network traffic by ranking it by link type, ip protocol,
TCP/UDP port, ip address, or network address.
<P>

Network information is collected either by reading data from
<I>filename</I>

 
or by directly monitoring the network interface
<I>interface</I>

 
The default action for
<B></B>


is to automatically search for an appropriate
interface, and to generate a profile before it exits.
<P>

When reading data from
<I>filename</I>

 
<B></B>


will display the profile and exit immediately after the
entire file has been processed.  When collecting data from
<I>interface</I>

 
<B></B>


will keep running unless the
-<B>s</B>

option had been specified.
<P>

<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

The options are as follows:
<DL COMPACT>
<P>

<DT><B>-f </B><I>filter expr</I>




<DD>
Filter the packets according the rules given by
<I>filter expr</I>

 
For the syntax of these rules, see
<A HREF="../man1/tcpdump.1.html">tcpdump</A>(1).


The argument must be quoted if it contains spaces in order to separate it
from other options.
<DT><B>-h , -

</B>


<DD>
 
Display version and a brief help message.
<DT><B>-d</B>


<DD>
<B></B>


will track the source and destination information separately,
where applicable, and identify source data with a &quot;&gt;&quot; and
destination data with &quot;&lt;&quot;.  For example, a &quot;http &lt;&quot; statistic
signifies all traffic with destination port 80 (http). This option
only applies to port, host and network statistics.
<DT><B>-i </B><I>interface</I>




<DD>
Do a live capture (rather than read from a file) on the interface
<I>interface</I>

given on the command line.  If
<I>interface</I>

is &quot;auto&quot; then
<B></B>


tries to find an appropriate one by itself.
<DT><B>-P </B><I>port</I>




<DD>
This tells
<B></B>


to ignore TCP and UDP ports greater than or equal to
<I>port </I>

when displaying port statistics.
This is not the same as filtering these port numbers out
of the data set.  This way, packets with i.e. the source port above
<I>port</I>

and the destination port below
<I>port</I>

will be able to still count the lower port number as a statistic.
In addition, this doesn't affect the other statistic types (link,
protocol, etc.)
<DT><B>-p</B>


<DD>
Set the interface into non-promiscuous mode (promiscuous
is the default) when doing live captures.
<DT><B>-r </B><I>filename</I>




<DD>
Read all data from
<I>filename</I>

 
which may be a regular file, a named pipe or &quot;-&quot; to read it's data from
standard input. Acceptable file formats include pcap
(tcpdump1


files) and &quot;snoop&quot; format files.
<I>filename</I>

is usually a file created by the
<A HREF="../man1/tcpdump.1.html">tcpdump</A>(1)


command using the &quot;-w&quot; option.
<DT><B>-S </B><I>letters</I>




<DD>
Tells
<B></B>


which statistics to display.
<I>letters</I>

must be a string of one or more of the following letters:
<DL COMPACT>
<P>

<DT><B>l</B>
<DD>
show stats about the link layer
<DT><B>i</B>
<DD>
show stats about all ip protocols
<DT><B>p</B>
<DD>
show stats about TCP/UDP ports
<DT><B>h</B>
<DD>
show stats about hosts/ip addresses
<DT><B>n</B>
<DD>
show stats about network addresses
<DT><B>a</B>
<DD>
a synonym for &quot;liphn&quot;
</DL>
<P>

<DT><B>-s </B><I>seconds</I>




<DD>
When monitoring an interface,
<B></B>


runs for only 
<I>seconds </I>

seconds, and then quits.  Has no effect when reading data from a file.
<DT><B>-t </B><I>lines</I>




<DD>
When printing a profile of the data,
<B></B>


will display a maximum of
<I>lines</I>

lines for each statistic.
</DL>
<P>

<A NAME="lbAF">&nbsp;</A>
<H2>SIGNALS</H2>

Upon receiving a SIGINT,
<B></B>


will print any remaining statistics, and then exit.
<A NAME="lbAG">&nbsp;</A>
<H2>FILES</H2>

<DL COMPACT>
<P>

<DT><B>/dev/bpf n</B>






<DD>
the packet filter device
</DL>
<P>

<A NAME="lbAH">&nbsp;</A>
<H2>EXAMPLES</H2>


<BLOCKQUOTE><TT>tcpprof -i fxp0 -S a</TT></BLOCKQUOTE>
<P>

Displays a complete profile of network data 
passing through the fxp0 network interface, after the user enters
^C (control C).
<P>


<BLOCKQUOTE><TT>tcpprof -r file.dump -S a</TT></BLOCKQUOTE>
<P>

Displays a complete profile of network data from the
<A HREF="../man1/tcpdump.1.html">tcpdump</A>(1)


generated file &quot;file.dump&quot;.
<P>

<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

<A HREF="../man1/tcpdump.1.html">tcpdump</A>(1),


<A HREF="../man3/pcap.3.html">pcap</A>(3),


<A HREF="../man4/bpf.4.html">bpf</A>(4)



<A NAME="lbAJ">&nbsp;</A>
<H2>HISTORY</H2>

<B></B>


was first written along side tcpstat in Winter 1998 using FreeBSD 3.0,
and then finaly retrofited for Linux in Spring 2000.  It became installed
along with tcpstat since version 1.5.
<A NAME="lbAK">&nbsp;</A>
<H2>AUTHORS</H2>

An Paul Herman Aq <A HREF="mailto:pherman@frenchfries.net">pherman@frenchfries.net</A>

<BR>

Cologne, Germany.
<P>

Please send all bug reports to this address.
<A NAME="lbAL">&nbsp;</A>
<H2>BUGS</H2>

Not tested with link types other than Ethernet, PPP, and &quot;None&quot; types.  
<P>

There may be problems reading non-IPv4 packets across platforms when
reading null type link layers.  This is due to a lack of a standardized
packet type descriptor in libpcap for this link type.
<P>

Snoop file formats cannot be read from stdin or named pipes.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">SIGNALS</A><DD>
<DT><A HREF="#lbAG">FILES</A><DD>
<DT><A HREF="#lbAH">EXAMPLES</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
<DT><A HREF="#lbAJ">HISTORY</A><DD>
<DT><A HREF="#lbAK">AUTHORS</A><DD>
<DT><A HREF="#lbAL">BUGS</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://localhost/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 18:56:54 GMT, August 22, 2012
</BODY>
</HTML>
