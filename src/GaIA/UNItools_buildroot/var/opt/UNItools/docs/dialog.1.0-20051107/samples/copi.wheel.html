<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
<title>./copifuncs/copi.wheel</title>
<style type="text/css">
<!--
body.hl	{ background-color:#ffffff; }
pre.hl	{ color:#000000; background-color:#ffffff; font-size:10pt; font-family:Courier;}
.num	{ color:#ff0000; }
.esc	{ color:#ff22ff; }
.str	{ color:#ff0000; }
.dstr	{ color:#ff0000; }
.slc	{ color:#0000ff; }
.com	{ color:#0000ff; }
.dir	{ color:#ff22ff; }
.sym	{ color:#000000; }
.line	{ color:#0000ff; }
.kwa	{ color:#B26818; }
.kwb	{ color:#00ff00; }
.kwc	{ color:#B26818; }
.kwd	{ color:#000000; }
//-->
</style>
</head>
<body class="hl">
<pre class="hl"><span class="line">    0 </span><span class="dir">#!/bin/bash</span>
<span class="line">    1 </span><span class="dir"># $Id: copi.wheel,v 1.2 2001/01/15 22:26:33 tom Exp $</span>
<span class="line">    2 </span>
<span class="line">    3 </span>mkstemp size
<span class="line">    4 </span>dialog <span class="sym">--</span>print<span class="sym">-</span>maxsize <span class="num">2</span><span class="sym">&gt;</span>$tmp_size
<span class="line">    5 </span>ROWS<span class="sym">=</span><span class="str">&quot;`cut $tmp_size -f1 -d, | cut -f2 -d:`&quot;</span>
<span class="line">    6 </span>COLS<span class="sym">=</span><span class="str">&quot;`cut $tmp_size -f2 -d,`&quot;</span>
<span class="line">    7 </span>rm $tmp_size
<span class="line">    8 </span>
<span class="line">    9 </span><span class="dir"># Takes an integer, multiplies it for COLS, divides for 132</span>
<span class="line">   10 </span><span class="kwd">scalex</span><span class="sym">() {</span>
<span class="line">   11 </span>  echo $<span class="sym">[</span>$<span class="num">1</span><span class="sym">*</span>$COLS<span class="sym">/</span><span class="num">132</span><span class="sym">]</span>
<span class="line">   12 </span><span class="sym">}</span>
<span class="line">   13 </span><span class="kwd">scaley</span><span class="sym">() {</span>
<span class="line">   14 </span>  echo $<span class="sym">[</span>$<span class="num">1</span><span class="sym">*</span>$ROWS<span class="sym">/</span><span class="num">60</span><span class="sym">]</span>
<span class="line">   15 </span><span class="sym">}</span>
<span class="line">   16 </span>
<span class="line">   17 </span>dialog <span class="sym">--</span>backtitle <span class="str">&quot;$TITLE&quot;</span> <span class="sym">--</span>no<span class="sym">-</span>shadow \
<span class="line">   18 </span><span class="sym">--</span>begin `scaley <span class="num">27</span>` `scalex <span class="num">98</span>` <span class="sym">--</span>infobox <span class="str">&quot;pushd /var/log &gt;/dev/null&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   19 </span><span class="sym">--</span>begin `scaley <span class="num">35</span>` `scalex <span class="num">95</span>` <span class="sym">--</span>infobox <span class="str">&quot;mkdir -p news -m 755&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   20 </span><span class="sym">--</span>begin `scaley <span class="num">45</span>` `scalex <span class="num">86</span>` <span class="sym">--</span>infobox <span class="str">&quot;chown news.news news&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   21 </span><span class="sym">--</span>begin `scaley <span class="num">48</span>` `scalex <span class="num">78</span>` <span class="sym">--</span>infobox <span class="str">&quot;cd /var/log/news&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   22 </span><span class="sym">--</span>begin `scaley <span class="num">51</span>` `scalex <span class="num">61</span>` <span class="sym">--</span>infobox <span class="str">&quot;mkdir -p OLD -m 755&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   23 </span><span class="sym">--</span>begin `scaley <span class="num">52</span>` `scalex <span class="num">47</span>` <span class="sym">--</span>infobox <span class="str">&quot;chown news.news OLD&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   24 </span><span class="sym">--</span>begin `scaley <span class="num">51</span>` `scalex <span class="num">40</span>` <span class="sym">--</span>infobox <span class="str">&quot;cd /var/spool&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   25 </span><span class="sym">--</span>begin `scaley <span class="num">48</span>` `scalex <span class="num">25</span>` <span class="sym">--</span>infobox <span class="str">&quot;mkdir -p news -m 775&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   26 </span><span class="sym">--</span>begin `scaley <span class="num">42</span>` `scalex <span class="num">13</span>` <span class="sym">--</span>infobox <span class="str">&quot;chown news.news news&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   27 </span><span class="sym">--</span>begin `scaley <span class="num">35</span>` `scalex <span class="num">4</span>` <span class="sym">--</span>infobox <span class="str">&quot;cd /var/spool/news&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   28 </span><span class="sym">--</span>begin `scaley <span class="num">27</span>` `scalex <span class="num">2</span>` <span class="sym">--</span>infobox <span class="str">&quot;CURMASK=`umask`&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   29 </span><span class="sym">--</span>begin `scaley <span class="num">19</span>` `scalex <span class="num">4</span>` <span class="sym">--</span>infobox <span class="str">&quot;umask 02&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   30 </span><span class="sym">--</span>begin `scaley <span class="num">11</span>` `scalex <span class="num">13</span>` <span class="sym">--</span>infobox <span class="str">&quot;mkdir -p out.going control junk in.coming&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   31 </span><span class="sym">--</span>begin `scaley <span class="num">5</span>` `scalex <span class="num">25</span>` <span class="sym">--</span>infobox <span class="str">&quot;chown news.news out.going control junk in.coming&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   32 </span><span class="sym">--</span>begin `scaley <span class="num">2</span>` `scalex <span class="num">37</span>` <span class="sym">--</span>infobox <span class="str">&quot;cd in.coming&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   33 </span><span class="sym">--</span>begin `scaley <span class="num">1</span>` `scalex <span class="num">46</span>` <span class="sym">--</span>infobox <span class="str">&quot;mkdir -p bad tmp&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   34 </span><span class="sym">--</span>begin `scaley <span class="num">2</span>` `scalex <span class="num">61</span>` <span class="sym">--</span>infobox <span class="str">&quot;chown news.news bad tmp&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   35 </span><span class="sym">--</span>begin `scaley <span class="num">5</span>` `scalex <span class="num">76</span>` <span class="sym">--</span>infobox <span class="str">&quot;umask $CURMASK&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   36 </span><span class="sym">--</span>begin `scaley <span class="num">11</span>` `scalex <span class="num">87</span>` <span class="sym">--</span>infobox <span class="str">&quot;ln -sf ~news /usr/local/lib/&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   37 </span><span class="sym">--</span>begin `scaley <span class="num">18</span>` `scalex <span class="num">95</span>` <span class="sym">--</span>infobox <span class="str">&quot;ln -sf ~news/inews /usr/bin/&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   38 </span><span class="sym">--</span>begin `scaley <span class="num">26</span>` `scalex <span class="num">97</span>` <span class="sym">--</span>infobox <span class="str">&quot;chmod 1777 /var/tmp&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   39 </span><span class="sym">--</span>begin `scaley <span class="num">34</span>` `scalex <span class="num">95</span>` <span class="sym">--</span>infobox <span class="str">&quot;cd ~news&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   40 </span><span class="sym">--</span>begin `scaley <span class="num">42</span>` `scalex <span class="num">87</span>` <span class="sym">--</span>infobox <span class="str">&quot;touch history history.dir history.pag errlog log&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   41 </span><span class="sym">--</span>begin `scaley <span class="num">47</span>` `scalex <span class="num">76</span>` <span class="sym">--</span>infobox <span class="str">&quot;chown news.news history* log errlog&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   42 </span><span class="sym">--</span>sleep <span class="num">1</span> <span class="sym">--</span>infobox <span class="str">&quot;Creating spooling and logging directories and files...&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   43 </span><span class="sym">--</span>begin `scaley <span class="num">51</span>` `scalex <span class="num">78</span>` <span class="sym">--</span>infobox <span class="str">&quot;chmod 664 history* log errlog&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   44 </span><span class="sym">--</span>begin `scaley <span class="num">52</span>` `scalex <span class="num">60</span>` <span class="sym">--</span>infobox <span class="str">&quot;echo</span> <span class="esc">\&quot;</span><span class="str">control 0000000000 0000000001 y</span><span class="esc">\&quot;</span> <span class="str">&gt; active&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   45 </span><span class="sym">--</span>begin `scaley <span class="num">51</span>` `scalex <span class="num">42</span>` <span class="sym">--</span>infobox <span class="str">&quot;echo</span> <span class="esc">\&quot;</span><span class="str">junk 0000000000 0000000001 y</span><span class="esc">\&quot;</span> <span class="str">&gt;&gt; active&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   46 </span><span class="sym">--</span>begin `scaley <span class="num">48</span>` `scalex <span class="num">26</span>` <span class="sym">--</span>infobox <span class="str">&quot;chown news.news active&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   47 </span><span class="sym">--</span>begin `scaley <span class="num">42</span>` `scalex <span class="num">13</span>` <span class="sym">--</span>infobox <span class="str">&quot;echo</span> <span class="esc">\&quot;</span><span class="str">control 814573260 usenet</span><span class="esc">\&quot;</span> <span class="str">&gt; active.times&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   48 </span><span class="sym">--</span>begin `scaley <span class="num">35</span>` `scalex <span class="num">4</span>` <span class="sym">--</span>infobox <span class="str">&quot;echo</span> <span class="esc">\&quot;</span><span class="str">junk 814573260 usenet</span><span class="esc">\&quot;</span> <span class="str">&gt;&gt; active.times&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   49 </span><span class="sym">--</span>begin `scaley <span class="num">27</span>` `scalex <span class="num">2</span>` <span class="sym">--</span>infobox <span class="str">&quot;chown news.news active.times&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   50 </span><span class="sym">--</span>begin `scaley <span class="num">19</span>` `scalex <span class="num">4</span>` <span class="sym">--</span>infobox <span class="str">&quot;:&gt;newsgroups&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   51 </span><span class="sym">--</span>begin `scaley <span class="num">11</span>` `scalex <span class="num">12</span>` <span class="sym">--</span>infobox <span class="str">&quot;chown news.news newsgroups&quot;</span> <span class="num">0 0</span> <span class="sym">--</span><span class="kwa">and</span><span class="sym">-</span>widget \
<span class="line">   52 </span><span class="sym">--</span>begin `scaley <span class="num">6</span>` `scalex <span class="num">25</span>` <span class="sym">--</span>infobox <span class="str">&quot;popd &gt;/dev/null&quot;</span> <span class="num">0 0</span>
<span class="line">   53 </span>sleep <span class="num">1</span>
</pre>
</body>
</html>
<!--HTML generated by highlight 2.4.3, http://www.andre-simon.de/-->
